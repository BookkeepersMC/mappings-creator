package mappings.plugin.task.build;

import org.gradle.api.tasks.TaskContainer;
import org.jetbrains.annotations.VisibleForTesting;
import mappings.plugin.plugin.MapV2Plugin;

import java.io.IOException;
import java.nio.file.Path;
import java.util.function.Function;

public abstract class MergeTinyV2Task extends AbstractHashedMergeTask {
    /**
     * {@linkplain TaskContainer#register Registered} by {@link MapV2Plugin}.
     */
    public static final String MERGE_TINY_V_2_TASK_NAME = "mergeTinyV2";

    @VisibleForTesting
    public static void mergeMappings(
        Path insertAutoGeneratedMappingsOutput, Path invertedPerVersionsMappings, Path outputMappings
    ) throws IOException {
        AbstractTinyMergeTask.mergeMappings(insertAutoGeneratedMappingsOutput, invertedPerVersionsMappings, outputMappings,
            Function.identity(), Function.identity());
    }
}
